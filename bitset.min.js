/*
 BitSet.js v4.0.0 14/08/2015
 http://www.xarg.org/2014/03/javascript-bit-array/

 Copyright (c) 2016, Robert Eisele (robert@xarg.org)
 Dual licensed under the MIT or GPL Version 2 licenses.
*/
'use strict';(function(p){function n(a){a-=a>>>1&1431655765;a=(a&858993459)+(a>>>2&858993459);return 16843009*(a+(a>>>4)&252645135)>>>24}function q(a,c){for(var b=0,d,e=0;e<a.length;e++)b*=2,d=(a[e]+b)/c|0,b=(a[e]+b)%c,a[e]=d;return b}function m(a,c){if(null==c)a.data=[0,0,0,0,0,0,0,0,0,0],a._=0;else if(c instanceof g)a.data=c.data,a._=c._;else switch(typeof c){case "number":a.data=[c|0];a._=0;break;case "string":var b=2,d=32;0===c.indexOf("0b")?c=c.substr(2):0===c.indexOf("0x")&&(c=c.substr(2),b=
16,d=8);a.data=[];a._=0;var e=c.length-d,f=c.length;do{var h=parseInt(c.slice(0<e?e:0,f),b);if(isNaN(h))throw SyntaxError("Invalid param");a.data.push(h|0);if(0>=e)break;e-=d;f-=d}while(1);break;default:if(c instanceof Array)for(b=c.length-1;0<=b;b--)d=c[b]|0,l(a,d),a.data[d>>>5]|=1<<d;else if(Uint8Array&&c instanceof Uint8Array)for(l(a,8*c.length),b=0;b<c.length;b++)for(d=c[b],e=0;8>e;e++)f=8*b+e,a.data[f>>>5]|=(d>>e&1)<<f;else throw SyntaxError("Invalid param");}}function g(a){if(!(this instanceof
g))return new g(a);m(this,a);this.data=this.data.slice()}function l(a,c){for(var b=c>>>5,d=a.data,e=a._,f=d.length;b>=f;b--)d[b]=e}var h={data:[],_:0};g.prototype={data:[],_:0,set:function(a,c){a|=0;l(this,a);this.data[a>>>5]=void 0===c||c?this.data[a>>>5]|1<<a:this.data[a>>>5]&~(1<<a);return this},get:function(a){a|=0;var c=this.data,b=a>>>5;return b>c.length?this._&1:c[b]>>>a&1},and:function(a){m(h,a);a=this.data;for(var c=h.data,b=c.length-1,d=a.length-1;d>b;d--)a[d]=0;for(;0<=d;d--)a[d]&=c[d];
this._&=h._;return this},or:function(a){m(h,a);a=this.data;for(var c=h.data,b=c.length-1,d=Math.min(a.length-1,b);b>d;b--)a[b]=c[b];for(;0<=b;b--)a[b]|=c[b];this._|=h._;return this},not:function(){for(var a=this.data,c=0;c<a.length;c++)a[c]=~a[c];this._=~this._;return this},xor:function(a){m(h,a);a=this.data;for(var c=h.data,b=this._,d=h._,e=0,f=a.length-1,g=c.length-1,e=f;e>g;e--)a[e]^=d;for(e=g;e>f;e--)a[e]=b^c[e];for(;0<=e;e--)a[e]^=c[e];this._^=d;return this},flip:function(a,c){if(void 0===a)return this.not();
if(void 0===c)a|=0,l(this,a),this.data[a>>>5]^=1<<a;else if(a<=c&&0<=a){l(this,c);for(var b=a;b<=c;b++)this.data[b>>>5]^=1<<b}return this},andNot:function(a){m(h,a);a=this.data;for(var c=h.data,b=h._,d=Math.min(a.length,c.length),e=0;e<d;e++)a[e]&=~c[e];this._&=~b;return this},clear:function(a,c){var b=this.data;if(void 0===a){for(var d=b.length-1;0<=d;d--)b[d]=0;this._=0}else if(void 0===c)a|=0,l(this,a),b[a>>>5]&=~(1<<a);else if(a<=c)for(l(this,c),d=a;d<=c;d++)b[d>>>5]&=~(1<<d);return this},slice:function(a,
c){if(void 0===a)return this.clone();if(void 0===c){c=32*this.data.length;var b=Object.create(g.prototype);b._=this._;b.data=[0];for(var d=a;d<=c;d++)b.set(d-a,this.get(d));return b}if(a<=c&&0<=a){b=Object.create(g.prototype);b.data=[0];for(d=a;d<=c;d++)b.set(d-a,this.get(d));return b}return null},setRange:function(a,c,b){for(;a<=c;a++)this.set(a,b);return this},clone:function(){var a=Object.create(g.prototype);a.data=this.data.slice();a._=this._;return a},toArray:Math.clz32?function(){if(0!==this._)return Infinity;
for(var a=[],c=this.data,b=c.length-1;0<=b;b--)for(var d=c[b];0!==d;){var e=31-Math.clz32(d),d=d^1<<e;a.unshift(32*b+e)}return a}:function(){if(0!==this._)return Infinity;for(var a=[],c=this.data,b=0;b<c.length;b++)for(var d=c[b];0!==d;){var e=d&-d,d=d^e;a.push(32*b+n(e-1))}return a},toString:function(a){var c=this.data;a||(a=2);if(0===(a&a-1)&&36>a){for(var b="",d=2+Math.log(4294967295)/Math.log(a)|0,e=c.length-1;0<=e;e--){var f=c[e];0>f&&(f+=4294967296);f=f.toString(a);""!==b&&(b+=Array(d-f.length).join("0"));
b+=f}return 0===this._?(b=b.replace(/^0+/,""),""===b&&(b="0"),b):("1111"+b).replace(/^1+/,"...1111")}if(2>a||36<a)throw"Invalid base";b=[];d=[];for(e=c.length;e--;)for(f=32;f--;)d.push(c[e]>>>f&1);do b.unshift(q(d,a).toString(a));while(!d.every(function(a){return 0===a}));return b.join("")},isEmpty:function(){if(0!==this._)return!1;for(var a=this.data,c=a.length-1;0<=c;c--)if(0!==a[c])return!1;return!0},cardinality:function(){if(0!==this._)return Infinity;for(var a=0,c=this.data,b=0;b<c.length;b++){var d=
c[b];0!==d&&(a+=n(d))}return a},msb:Math.clz32?function(){if(0!==this._)return Infinity;for(var a=this.data,c=a.length;0<c--;){var b=Math.clz32(a[c]);if(32!==b)return 32*c+32-1-b}return Infinity}:function(){if(0!==this._)return Infinity;for(var a=this.data,c=a.length;0<c--;){var b=a[c],d=0;if(b){for(;0<(b>>>=1);d++);return 32*c+d}}return Infinity},ntz:function(){for(var a=this.data,c=0;c<a.length;c++){var b=a[c];if(0!==b)return b=(b^b-1)>>>1,32*c+n(b)}return Infinity},lsb:function(){for(var a=this.data,
c=0;c<a.length;c++){var b=a[c],d=0;if(b){for(a=b&-b;a>>>=1;d++);return 32*c+d}}return this._&1},equals:function(a){m(h,a);a=this.data;var c=h.data,b=this._,d=h._,e=a.length-1,f=c.length-1;if(d!==b)return!1;for(var g=e<f?e:f,k=0;k<=g;k++)if(a[k]!==c[k])return!1;for(k=e;k>f;k--)if(a[k]!==d)return!1;for(k=f;k>e;k--)if(c[k]!==b)return!1;return!0}};g.a=function(a){return new g("0b"+a)};g.b=function(a){return new g("0x"+a)};"function"===typeof define&&define.amd?define([],function(){return g}):"object"===
typeof exports?module.exports=g:p.BitSet=g})(this);
