function BitSet(t,i){void 0===t?t=31:"string"==typeof t&&(t=t.length),i=void 0===i||"string"==typeof i||-1===[0,1].indexOf(i)?0:i;for(var n=31,r=Math.ceil(t/n),e=r;e--;)this[e]=i;if("string"==typeof t)for(e=t.length;e--;)this.set(e,t.charAt(e));var s=function(t,i,e,s){if(void 0===e&&(void 0===i?(i=0,e=r*n-1):e=i),0>i||i>e||e>=n*r)return null;for(var f=r;f--;){var o=Math.max(i,f*n),h=Math.min(e,n-1+n*f);if(h>=o){var u=~(1<<1+h%n)+(1<<o%n);0===s?t[f]&=u:t[f]^=~u}}return t};this.size=n*r,this.length=r,this.and=function(t){if(t instanceof BitSet)for(var i=r;i--;)this[i]&=t[i]||0;return this},this.or=function(t){if(t instanceof BitSet)for(var i=r;i--;)this[i]|=t[i]||0;return this},this.nand=function(t){if(t instanceof BitSet)for(var i=r;i--;)this[i]=~(this[i]&(t[i]||0));return this},this.nor=function(t){if(t instanceof BitSet)for(var i=r;i--;)this[i]=~(this[i]|(t[i]||0));return this},this.not=function(){for(var t=r;t--;)this[t]=~this[t];return this},this.xor=function(t){if(t instanceof BitSet)for(var i=r;i--;)this[i]=this[i]^(t[i]||0);return this},this.equals=function(t){if(!(t instanceof BitSet))return!1;if(t.length!==r)return!1;for(var i=r;i--;)if(t[i]!==this[i])return!1;return!0},this.clone=function(){for(var t=new BitSet(this.size),i=r;i--;)t[i]=this[i];return t},this.isEmpty=function(){for(var t=r;t--;)if(0!==this[t])return!1;return!0},this.toString=function(t){for(var i="",e=r;e--;){r>e+1&&void 0!==t&&(i+=String(t));var s=this[e].toString(2);i+=new Array(1+n-s.length).join("0"),i+=s}return i},this.cardinality=function(){for(var t,i=0,n=r;n--;)for(t=this[n];t;t&=t-1,i++);return i},this.msb=function(){for(var t=r;t--;){var i=this[t],e=0;if(i){for(;i>>=1;e++);return n*t+e}}return 0},this.set=function(t,i){if(void 0===i&&(i=1),t>=0&&n*r>t){var e=t/n|0;return this[e]^=1<<t%n&(-(1&i)^this[e]),this}return null},this.setRange=function(t,i,e){if(i>=t&&t>=0&&n*r>i){if("string"==typeof e){if(i-t!==e.length)return null;for(var s=0;s<e.length;s++)this.set(s+t,e.charAt(e.length-s-1))}else{void 0===e&&(e=1);for(var s=t;i>=s;s++)this.set(s,e)}return this}return null},this.get=function(t){return t>=0&&n*r>t?this[t/n|0]>>t%n&1:null},this.getRange=function(t,i){if(i>=t&&t>=0&&n*r>i){for(var e=new BitSet(i-t+1),s=t;i>=s;s++)e.set(s-t,this.get(s));return e}return null},this.clear=function(t,i){return s(this,t,i,0)},this.flip=function(t,i){return s(this,t,i,1)}}"undefined"!=typeof module&&module.exports&&(module.exports.BitSet=BitSet);