/*
BitSet.js v2.1.0 10/06/2015
http://www.xarg.org/2014/03/javascript-bit-array/

Copyright (c) 2014, Robert Eisele (robert@xarg.org)
Dual licensed under the MIT or GPL Version 2 licenses.
*/
(function(m){"use strict";function n(a,c){for(var b=0,e,d=a.length,f=0;f<d;f++)b*=2,e=(a[f]+b)/c|0,b=(a[f]+b)%c,a[f]=e;return b}function g(a){for(var c=a.length;c--;)if(a[c])return!1;return!0}function f(a){d=[];if(void 0!==a)if(a instanceof e)k(d,a);else switch(typeof a){case "number":d[0]=a;break;case "string":var c=1;0===a.indexOf("0x")?(c=4,a=a.substr(2)):0===a.indexOf("0b")&&(a=a.substr(2));for(var b=a.length;b--;){var l=parseInt(a.charAt(b),1<<c);if(isNaN(l))break;for(var f=c;f--;){var g=(a.length-b-1)*c+
f,h=Math.floor(g/31);d[h]||(d[h]=0);d[h]|=(l>>f&1)<<g%31}}break;default:throw"Invalid param";}}function k(a,c){for(var b=Math.max(a.length,c.length);b--;)a[b]=c[b]||0;a.length=c.length}function e(a){f(a);k(this,d)}var d;e.prototype.length=0;e.prototype.and=function(a){f(a);for(a=this.length;a--;)this[a]&=d[a]||0;return this};e.prototype.or=function(a){f(a);for(a=this.length;a--;)this[a]|=d[a]||0;return this};e.prototype.nand=function(a){f(a);for(a=this.length;a--;)this[a]=~(this[a]&(d[a]||0));return this};
e.prototype.nor=function(a){f(a);for(a=this.length;a--;)this[a]=~(this[a]|(d[a]||0));return this};e.prototype.not=function(){for(var a=this.length;a--;)this[a]=~this[a];return this};e.prototype.xor=function(a){f(a);for(a=this.length;a--;)this[a]^=d[a]||0;return this};e.prototype.equals=function(a){f(a);a=d;var c=this;this.length>d.length&&(a=this,c=d);for(var b=a.length;b--;)if(b<c.length){if(a[b]!==c[b])return!1}else if(0!==a[b])return!1;return!0};e.prototype.clone=function(){return new e(this)};
e.prototype.isEmpty=function(){return g(this)};e.prototype.toString=function(a){if(!a)a=2;else if(2>a||36<a)throw"Invalid base";for(var c=[],b=[],e=this.length;e--;)for(var d=31;d--;)b.push(this[e]>>d&1);do c.unshift(n(b,a).toString(a));while(!g(b));return c.join("")};e.prototype.cardinality=function(){for(var a,c=0,b=this.length;b--;)for(a=this[b];a;a&=a-1,c++);return c};e.prototype.msb=function(){for(var a=this.length;a--;){var c=this[a],b=0;if(c){for(;c>>=1;b++);return 31*a+b}}return 0};e.prototype.set=
function(a,c){if("string"===typeof a)f(a),k(this,d);else{if(0>a)return null;void 0===c&&(c=1);var b=Math.floor(a/31);if(b>=this.length){for(var e=this.length;e<b;e++)this[e+1]=0;this.length=b+1}this[b]^=1<<a%31&(-(c&1)^this[b])}return this};e.prototype.setRange=function(a,c,b){if(a<=c&&0<=a){if("string"===typeof b){b=new e(b);for(var d=a;d<=c;d++)this.set(d,b.get(d-a))}else for(d=a;d<=c;d++)this.set(d,b);return this}return null};e.prototype.get=function(a){return 0<=a&&a<31*this.length?this[a/31|
0]>>a%31&1:0};e.prototype.getRange=function(a,c){if(a<=c&&0<=a){for(var b=new e,d=a;d<=c;d++)b.set(d-a,this.get(d));return b}return null};e.prototype.clear=function(a,c){if(void 0===a)for(var b=this.length;b--;)this[b]=0;else{void 0===c&&(c=31*this.length);if(a>c)return null;for(b=a;b<=c;b++)this.set(b,0)}return this};e.prototype.flip=function(a,c){if(void 0===a)for(var b=this.length;b--;)this[b]=~this[b];else{void 0===c&&(c=31*this.length);if(0>a||a>c)return null;for(b=a;b<=c;b++)this.set(b,!this.get(b))}return this};
"function"===typeof define&&define.amd?define([],function(){return e}):"object"===typeof exports?module.exports=e:m.BitSet=e})(this);
